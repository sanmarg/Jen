{
    "name": "curly_scene",
    "images": 
    [ 
        { 
            "type" : "fimage", 
            "filename": "../samples/hk_square.jpg", 
            "name": "hk_square" 
        },
        { 
            "type": "fimage", 
            "filename": "../samples/orb.jpg", 
            "name": "orb"
        } 
    ],
    "elements": 
    [
        { 
            "name": "background_element",
            "image": "hk_square"
        },
        {
            "name": "orb_element",
            "image": "orb",
            "position": [ -0.1, 0.0 ],
            "scale": 0.05
        }
    ],
    "functions":
    [
        {
            "name": "advector",
            "type": "advect_element",
            "flow": [ 1.0, 0.0 ],
            "step": 1.4
        },
        {
            "name": "shrinker",
            "type": "ratio_float",
            "r": 0.9
        },
        {
            "name": "scaler",
            "type": "scale_param",
            "fn": "shrinker"
        },
        {
            "name": "brancher",
            "type": "angle_branch",
            "interval": 4,
            "offset": 1
        },
        {
            "name": "wiggler1",
            "type": "wiggle",
            "wavelength": 0.25,
            "amplitude": 0.3,
            "phase": 0.0,
            "wiggliness": 0.0
        },
        {
            "name": "wiggle_time1",
            "type": "time_param",
            "fn": "wiggler1"
        },
        {
            "name": "add_wiggle1",
            "type": "adder_float",
            "r": { 
                "functions": [ "wiggler1" ] 
            }
        },
        {
            "name": "curler",
            "type": "curly",
            "curliness": {
                "value": 0.5,
                "functions": [ "add_wiggle1" ]
            }
        },
        {
            "name": "wiggle_damper",
            "type": "log_fn",
            "scale": -40.0,
            "shift": 1.0
        },
        {
            "name": "wiggle_damper_param",
            "type" : "scale_param",
            "fn": "wiggle_damper" 
        },
        {
            "name": "wiggler",
            "type": "wiggle", 
            "wavelength": 4.0,
            "amplitude": {
                "value": 45.0,
                "functions": [ "wiggle_damper_param" ]
            },
            "phase": 0.0,
            "wiggliness": 10.0
        },
        {
            "name": "wiggle_indexer",
            "type": "index_param",
            "fn": "wiggler"
        },
        {
            "name": "add_wiggle",
            "type": "adder_float",
            "r": { "functions": [ "wiggler" ] }
        },
        {
            "name": "orientation_wave",
            "type": "orientation_gen_fn",
            "orientation": { "functions": [ "add_wiggle" ] }
        }
    ],
    "clusters": 
    [ 
        { 
            "name": "background",
            "element": "background_element",
            "tlc": true
        },
        {
            "name": "curly",
            "element": "orb_element",
            "max_n": 100,
            "next_element": [ "scaler", "curler", "orientation_wave", "advector", "brancher" ],
            "tlc": true
        }
    ]   
}
